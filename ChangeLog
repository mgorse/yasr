
yasr change history.
====================

v0.6.3 - 1 Dec 02 (mike)
Fixed ^[[1K to also erase the character under the cursor.
Added commands to move forward and backward by paragraph from review mode.
Allow aborting a find by pressing esc.
(from richb): Fix configure.in to support Solaris on Intel
Removed remaining references to gettext

v0.6.2 - 23rd October 2002 (richb).

* Removed the "intl" sub-directory and adjusted configure.in and Makefile.am
  to not build it.

----

v0.6.1 - 2002-09-02 (mike).

* Added CLOCAL to the flags set when initializing the synthesizer port.  This
  is needed for NetBSD, at least.

--

v0.6.1 - 26th August 2002 (richb).

* Adjusted the open_debug() routine so that you have to pass in the basename
  of the debug file. This means that they can now be easily used from more
  than one program.

* If the user passes in a subprogram to start via the command line, it's 
  now exec'ed with execve instead of execvp, so the environment is passed 
  on as well.

* Mentioned the ability to fork and exec a sub-program in the yasr manual 
  pages.

* Added a set of TTS_ definitions to tts.h, and adjusted the code to 
  use them.

* Added an acclogin directory that only gets built if running on Solaris.
  This directory contains a small program "acclogin" that gets exec'ed by
  yasr, to provide a speech-enabled login prompt. See the acclogin.1 man
  pages for more details.

----

v0.6.0 - 12th August 2002 (mike).

* First official release on SourceForge.

----

v0.5.5 - 6th August 2002 (richb).

* Added rules to the configure.in file to add the -lsocket and -lnsl libraries
  for the Solaris platform (but not for Linux, where they are not needed).

* Added in a "-C config-file" command line option to allow the user to 
  specify an alternate yasr configuration file at run-time. The manual 
  pages have been updated to reflect this change.

* Removed the "#ifdef sun"'s around the reinstating of the signal handler 
  in tts_obufout().

* Added in a debug.c file which has three functions:

    extern void open_debug();
    extern void debug(char *format, ...);
    extern void close_debug();

  These allow for debug to be turned on (via a #define DEBUG in debug.c),
  and for debug to be written to a /tmp/yasr.debug<pid> file.

* Fixed up some problems when trying to use yasr as part of an accessible login
  prompt on the Solaris platform. Things like the "HOME" environment variable
  aren't set, and so extra bullet proofing needs to be added to the code.

* Ran yasr through the memory access and memory use checking inside the
  Solaris WorkShop environment, and fixed up problems that it found.

----

v0.5.4 - 31st July 2002 (mike).

* A new README which removes the notes about elod and ViaVoice, fixes a 
  typo in the description of alt-c, and documents preceeding various 
  review mode keys with numbers.

* If any non-switch command line arguments are given to yasr, then yasr
  will execvp them. For example:

  % yasr /bin/login

  will cause yasr to exec (and speak) the login program. This is the 
  approach used to try to provide an accessible login prompt.

v0.5.4 - 31st July 2002 (richb).

* In order to shutdown the connection to the FreeTTS emacspeak server 
  properly, the FreeTTS authors are suggesting that yasr should send an 
  "exit" string to the emacspeak server just before it terminates. 
  I've added this in in a generalised manner. I.e. there is now the option
  to setup specific strings to send for each TTS in a new tts_end() call 
  that is called from the finish() routine in main.c.

----

v0.5.3 - 29th July 2002 (mike).

* Fix for the Bus Error alignment problems with opt_getval and opt_setval
  when running on Solaris SPARC. Options are not int's instead of short's
  and char's.

* Yasr has been adjusted to talk to a speech server via TCP/IP. You would
  have something like the following in your ~/.yasr.conf file:
  synthesizer port=127.0.0.1:2222

v0.5.3 - 29th July 2002 (richb).

* Adjusted the tts_obufout SIGALRM handler to reinstate the signal handler
  before returning. This code is currently surroned by #ifdef sun". This is 
  needed on the Solaris platform, otherwise the second time SIGALRM happens,
  the default SIGALRM handler is called which just prints out "Alarm Clock" 
  and exits the program.

* Adjust the tts_silence() routine in tts.c so that the attempt to read one
  byte from the DecTalk Express isn't done on the Solaris platform (it's
  surroned by #ifndef sun"). Added an XXX: so others are aware of the 
  potential problem here.

----

v0.5.2 - 25th July 2002 (richb).

* The select() call in the parent() routine in main.c was only returning with
  input on file descriptor 0 (on Solaris) after the user had entered four
  characters. The fix was to add:

    rt.c_cc[VMIN] = 1;
    rt.c_cc[VTIME] = 0;

  after the call to cfmakeraw().

* yasr.conf is now installed into PACKAGE_DATA_DIR by "make install".

* The BUGS file is now included with the distribution.

* Filled in the NEWS file.

* Wrote a simple man page for yasr. This will automatically get installed
  in the appropriate place when the user does a "make install".

* Adjusted the README file to describe the current install method, and
  generally tidied up the formatting.

* Adjusted the line:

  out += ((*p >> (opt[num].shift + count)) & 1) << count++;

  to something that doesn't make gcc -Wall generate a warning.

* Fixed up warning messages generated by gcc -Wall for keytest.c

* Fixed up various warnings generated by the Sun compiler when compiling 
  option.c.

----

v0.5.1 - 24th July 2002 (richb).

* Fixed up the warnings generated by the Sun compiler.

* Fixed up warnings generated by lint.

* Filled in the AUTHORS file, and started the ChangeLog file.

* Setting the CS8 bit for t->t_cflag in cfmakeraw() was being done incorrectly.

* Added in an initial copyright/ownership comment to each source file.

* Included in a LGPL COPYING file.

* Removed elod.c (and the rules for in in .../yasr/yasr/Makefile.am) from the
  distribution.

* Made sure that keytest.c is included with the distribution (although it
  isn't currently being built).

* The code in cfmakeraw.c, forkpty.c and openpty.c is now surronded by
  #ifndef's so that it will use the system provided routines (if present).

* yasr now looks for a yasr.conf in PACKAGE_DATA_DIR (as defined in config.h
  by configure) rather than in /etc. This will allow user to be installed and
  configured by users who do not have root access.

* Adjusted opt_setval() in option.c to use sizeof(char) and sizeof(short)
  rather than sizeof(char *) and sizeof(short *) which did not work on
  Linux.

----

v0.5.0 - 22nd July 2002 (richb).

* Adjusted the distribution to use automake as well as autoconf, and provided
  an autogen.sh script to automatically generate all the required support files
  needed.

* Added in gettext support so that yasr can be localized in the future.

* Moved the source files down into a "yasr" subdirectory to make it easier
  to see what's what.

* Copied in various other needed files from the yasr-20011229 release.

* Tidied up the code. These changes included:
  - Removed all tabs.
  - Adjusted the code to the "one true style".
  - Tried to make the maximum line length 80 characters.
  - Fixed up most of the warnings generated by Gnu -Wall.

* Had to make the following change to get yasr to go into raw mode on Solaris:
  - Removed the #ifdef HAVE_CFMAKERAW around the cfmakeraw call in main.c

====
